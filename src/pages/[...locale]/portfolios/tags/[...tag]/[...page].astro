---
import i18n from 'i18next';
import PortfolioIndex from '@/layouts/portfolio-index.astro';
import { getPortfolioTagLink } from '@/lib/link';
import { getTagStaticPaths } from '@/lib/portfolios';

export async function getStaticPaths({ paginate }: { paginate: any }) {
  return await getTagStaticPaths({ paginate });
}

const { page } = Astro.props;
const tag = Astro.params.tag || '';
---

<PortfolioIndex
  items={page.data}
  pagination={{
    current: page.currentPage,
    total: page.lastPage,
  }}
  title={`${tag}`}
  description={i18n.t(`Portfolios tagged with "{{tag}}"`, { tag })}
  baseLink={getPortfolioTagLink({ tag })}
/>
