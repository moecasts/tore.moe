---
import i18n from 'i18next';
import PortfolioIndex from '@/layouts/portfolio-index.astro';
import { getPortfoliosLink } from '@/lib/link';
import { findMenuItemById } from '@/lib/menu';
import { getPortfoliosStaticPaths } from '@/lib/portfolios';

export async function getStaticPaths({ paginate }: { paginate: any }) {
  return await getPortfoliosStaticPaths({ paginate });
}

const { page } = Astro.props;

const cat = findMenuItemById('portfolios', i18n.language);
---

<PortfolioIndex
  items={page.data}
  pagination={{
    current: page.currentPage,
    total: page.lastPage,
  }}
  baseLink={getPortfoliosLink()}
  title={cat?.name}
/>
