---
import BlogIndex from '../../../../layouts/blog-index.astro';
import { getPaginationConfig, getTagStaticPaths } from '../../../../lib/posts';

export async function getStaticPaths({ paginate }: { paginate: any }) {
  return await getTagStaticPaths({ paginate });
}

const { page } = Astro.props;
const { tag } = Astro.params;

const linkPrefix = `/tags/${tag}`;
const { prefix: paginationPrefix } = getPaginationConfig();
---

<BlogIndex
  title={`${tag}`}
  items={page.data}
  currentPage={page.currentPage}
  totalPages={page.lastPage}
  pagePrefix={`${linkPrefix}/${paginationPrefix}`}
  baseHref={linkPrefix}
/>
